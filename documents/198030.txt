Are there problems with rendering WPF over Remote Desktop under Windows XP?
c# .net wpf windows-xp remote-desktop
I have heard that WPF primitives will not be supported by remote desktop on windows XP.  The implication of this is that if you run a WPF application on a vista machine and display it on an XP machine (via remote desktop) the display will be sent as a compressed bitmap.
This issue is resolved in Vista-Vista comunication via DirectX 11 (?) but this will not be made available on XP.  There is obviously a performance hit here,  I would like to understand it before making any inroads into developing applications to WPF.
Some information on this topic can be found here:
http://blogs.msdn.com/tims/archive/2007/01/05/comparing-wpf-on-windows-vista-v-windows-xp.aspx
See comment from the above link (quote):

To SpongeJim's question, this is done by the MIL (media integration layer), which is the underlying core of WPF that handles composition. On a Vista/Vista remote desktop connection, the MIL primitives are remoted and then reconstituted. On other combinations (e.g. 2003/XP), what gets remoted is bitmaps, which is obviously far more bandwidth-intensive. More depth on this topic can be found on Greg Schechter's blog, and in this entry in particular: http://blogs.msdn.com/greg_schechter/archive/2006/06/09/623566.aspx

Does anyone have any experience or more up to date information on this issue?


i guess this depends on your wpf app.
if you have lots of gradients, animations, brushes, etc...your app will definitely run slower over the wire...

We have had no problems using both Remote Admin and Bomgar for remoting once those apps were updated to work with WPF. We've tested XP to XP, XP to Vista, Vista to XP, and Vista to Vista. We'd initially only had problems with tooltips and combo-box drop downs/popups. For the last six months or so, things have been fine. 
I just tested remoting into a Vista VM from my XP desktop and our app looked great (if running a bit slow, but it is a VM...) I switched to low quality 8-bit color and the performance problems almost completely went away. The gradiation, etc, was lost on our window background, etc, but it was definitely still usable.
I don't think you should have any functional problems, and only minor performance issues. 

As of .NET 3.5 SP1, all WPF graphics are remoted as bitmaps, even on Vista-to-Vista communication. From http://blogs.msdn.com/jgoldb/archive/2008/05/15/what-s-new-for-performance-in-wpf-in-net-3-5-sp1.aspx:

We now remote as bitmaps in ALL cases.
The reason is that WPF 3.5 SP1 now
  uses a new graphics DLL (wpfgfx.dll)
  and certain changes could not be made
  to Vistaâs existing graphics DLL
  (milcore.dll) that is also used by
  DWM.

As other commenters have noted, the performance will greatly depend on the design of your applicationâs UI. The potential upshot is that you only have to test in one scenario; remoting performance should now be the same regardless of the client or server.
