WPF TreeView Binding
.net wpf linq entity-framework data-binding
I've got a class with Parent and Children properties.

I want to display this hierarchy in a WPF treeview.
Here's my XAML...
<TreeView Margin="12" Name="TreeViewPages" ItemsSource="{Binding}">
    <TreeView.Resources>
        <HierarchicalDataTemplate DataType="{x:Type Page}" ItemsSource="{Binding Children}">
            <TextBlock Text="{Binding Path=ShortTitle}" />
        </HierarchicalDataTemplate>
    </TreeView.Resources>
</TreeView>

And my VB code...

Dim db As New PageEntities
Dim t = From p In db.Page.Include("Children") _
        Where p.Parent Is Nothing _
        Select p
TreeViewPages.ItemsSource = t

But I get a tree with one, non-templated item:

PageManager.Page

What do I need to do to get this working?


You need to define an xmlns mapping to your Page class in the XAML file and use that in your Type declaration.  The reason why you aren't getting a compile error is that the Page class is already defined in WPF.
So, if your Page class was defined in the Zack namespace, in the TreeViewBinding assembly, you would need to add the following declaration to the parent container (most likely Window):
xmlns:local="clr-namespace:Zack;assembly=TreeViewBinding"

And then modify your DataTemplate to the following:
<HierarchicalDataTemplate DataType="{x:Type local:Page}" ItemsSource="{Binding Children}">

I will clarify my post for your original question.
