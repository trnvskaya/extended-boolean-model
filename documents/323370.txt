How do I get the current state of a thread (e.g. blocking, suspended, running, etc..) in win32?
multithreading winapi internals thread-state
I couldn't find a documented API that yields this information.
A friend suggested I use NtQuerySystemInformation. After looking it up, the information is there (see SYSTEM_THREAD ) but it is undocumented, and not very elegant - I get the information for all threads in the system.
Do you know of a more elegant, preferably documented API to do this?


NtQuerySystemInformation is totally documented and the best method.
The other answer is completely off topic

There is no other way than using NtQuerySystemInformation.
However it could be less complicated, that's true, but Microsoft lacks an implementation.
I posted a working class here that is very elegant to use:
How to get thread state (e.g. suspended), memory + CPU usage, start time, priority, etc
