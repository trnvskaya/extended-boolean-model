ASP.NET trusted DB connection to other server works in Casini, not in IIS
asp.net database-connection
Our website connects to a database correctly when running the website locally using the built-in web server.  But, when we deploy the site to our server running IIS, we get a database connection error.  The database server is different from our IIS server.  Note that a trusted connection to a different database on the SAME server as IIS works fine.
What do we need to do to connect to a SQL database on a different server with a trusted connection?


I'd check the user account that app domain in IIS is using to connect to SQL Server.  The account in IIS may not have access to network resources as well which would explain the trouble reaching the other database server.

Sounds like you need to configure the database server to provide access to the database you're trying to connect to.
Assuming SQL Server, log into SQL Server Enterprise Manager and under Security -> Logins, open the properties for the applicable user (probably the Network Service or ASP.NET account of the web server) and go to the Database Access tab and ensure that the Permit checkbox is ticked for the database you are connecting to.

When you're running a web site using Cassini, the account used by the web server process is your own account that you use to log on to your Windows machine. That account will be different on IIS.
Consider the security implications of opening the database up to a broader access than you may need with trusted connection. Perhaps you could use Windows authentication with a service account. That is, create an application-specific user in SQL Server with limited permissions. Then, you will get the benefits of connection pooling while avoiding passing credentials.
