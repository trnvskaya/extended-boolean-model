Class will compile for Tests/Console but not in Asp.net application
asp.net compiler-construction
I have a simple interface:
public interface IVisitorsLogController  
{
    List<VisitorsLog> GetVisitorsLog();
    int GetUniqueSubscribersCount();
    int GetVisitorsCount();
    string GetVisitorsSummary();
}

the class VisitorsLogController implements this interface.
From a console application or a TestFixture - no problem - the console/test fixture compile perfectly.
However, from an Asp.Net web site (not application) in the same solution with this code in the code behind
private IVisitorsLogController ctl;

protected int GetUniqueMembersCount()
{
    ctl = new VisitorsLogController();
    return ctl.GetUniqueSubscribersCount();        
}

the compiler throws this exception:

Error 1	'WebSiteBusinessRules.Interfaces.IVisitorsLogController'
  does not contain a definition for
  'GetUniqueSubscribersCount' and no
  extension method
  'GetUniqueSubscribersCount' accepting
  a first argument of type
  'WebSiteBusinessRules.Interfaces.IVisitorsLogController'
  could be found (are you missing a
  using directive or an assembly
  reference?)

yet for this code in the same file:
  protected static int GetVisitorsCount()
{
    return VisitorsLogController.Instance.GetVisitorsCount(DateTime.Today);
}

the compiler compiles these lines without complaining. In fact if I add anything new to the Interface the compiler now complains when trying to compile the asp.net page.
It can't be a missing using directive or assembly reference otherwise both methods would fail.
This is driving me nuts!
Any thoughts please?
Thanks,
Jeremy


I would start by checking the namespaces on each of the files involved and make sure that you don't have a conflict or a namespace that you are not expecting.

Out of interest, can you compile the following line:
ctl = VisitorsLogController.Instance;

? I'm just wondering if somehow you've got two interfaces named the same thing.
What does Intellisense prompt you with when you type ctl. and press Ctrl-Space?

It would seem the other important bit of code would be VisitorsLogController, wouldn't it? It looks like VisitorsLogController is implementing a different IVistorsLogController interface.
Right clicking and GoTo Definition should clear things up, I think.

The solution contains the web site and three class projects (Data Layer, Service Layer and Core Services). They are added as references to the web site as Projects. 
I had compiled the solution at one point for Release - published the site, and then changed the config to Debug. 
Evidently what had happened was that the Release dll's in the /bin file of the website were not being overwritten by the new Debug dll's. I manually deleted all the files in the /bin directory, and lo and behold - everything compiled perfectly.
So Mark and John - you were both spot on - I effectively did have two interfaces named the same thing.
Thanks very much for your help - if you hadn't given me these pointers I would never have finally worked it out.
