How do I get a stack trace in OCaml?
ocaml stack-trace
The Objective Caml language will only produce stack traces if you ask for them just right - what are the requirements for both bytecode and native code?


Compile with -g and set environment variable OCAMLRUNPARAM=b

Some Printexc functions let you do this programmatically.

Because it looks like you can only get traces for exceptions on unix you can fork and throw the exception in the second process. This way the main process can continue:
export OCAMLRUNPARAM=b
# compile with -g

flush_all(); let r = Unix.fork() in if r == 0 then raise Exit

