Testing for whitespace in SQL Server
sql sql-server whitespace
I've got some blank values in my table, and I can't seem to catch them in an IF statement. 
I've tried
IF @value = '' and if @value = NULL and neither one catches the blank values. Is there any way to test whether or not a varchar is entirely whitespace?
AHA! Turns out I was testing for null wrong. Thanks. 


if length(@value) = 0  or  @value is null 

(LTRIM(RTRIM(@Value))=''   should do the trick.

To compare with NULL, use the IS NULL keyword.
--Generic example:
SELECT *
FROM MY_TABLE
WHERE SOME_FIELD IS NULL;

--Instead of    

SELECT *
FROM MY_TABLE
WHERE SOME_FIELD = NULL;


You may have fields with multiple spaces ('   ') so you'll get better results if you trim that:
where ltrim(yourcolumnname) = ''


ltrim(rtrim(isNull(@value,''))) = ''


where length(rtrim(ltrim(yourcolumnname))) = 0 OR yourcolumnname is null

I just did some testing, and found out something interesting.
I used to write my queries like so:
SELECT *
FROM TableA
WHERE Val IS NOT NULL
AND LEN(RTRIM(LTRIM(Val))) > 0

But, you don't actually need to check for null, all you need to do is check the length after trimming the value.
SELECT *
FROM TableA
WHERE LEN(RTRIM(LTRIM(Val))) > 0

This select weeds out nulls as well as any columns with just white space.
As it turns out, you don't need to trim the value because SQL Server ignores trailing whitespace, so all you actually need it this:
    SELECT *
    FROM TableA
    WHERE LEN(Val) > 0

Rather then performing excessive string manipulation with LTRIM AND RTRIM, just search the  expression for the first "non-space".
SELECT
            *
    FROM
            [Table]
    WHERE
            COALESCE(PATINDEX('%[^ ]%', [Value]), 0) > 0

