How do I access cookies within Flash?
flash actionscript cookies
I'm looking to grab cookie values for the same domain within a Flash movie.  Is this possible?
Let's see I let a user set a variable foo and I store it using any web programming language.  I can access it easily via that language, but I would like to access it via the Flash movie without passing it in via printing it within the HTML page.


I believe flash objects have functions accessible through javascript, so if there's no easier way, you could at least use a javascript onload handler and pass document.cookie into your flash app from the outside. 
More info here: http://www.permadi.com/tutorial/flashjscommand/

You can read and write cookies (Local Shared Object) from flash. Flash cookies are stored  on your PC within a directory with the name of your domain. Those directories are located at: 
[Root drive]:\Documents and Settings\[username]\Application Data\Macromedia\Flash Player\#SharedObjects\

This article from Adobe is a good start.

Some Googling shows that it can be done by using query strings:

For web applications, you can pass
  values to swf by url parameters, and
  (with action script inside swf) save
  them to the sandbox.


cookies are available to javascript through document.cookie - try using flash's getURL to call a javascript function.
getURL('javascript:document.cookie = "varname=varvalue; expires=Thu, 2 Aug 2001 20:47:11 UTC; path="');

If you just want to store and retrieve data, you probably want to use the SharedObject class.  See Adobe's SharedObject reference for more details of that.
If you want to access the HTTP cookies, you'll need to use ExternalInterface to talk to javascript.  The way we do that here is to have a helper class called HTTPCookies.
HTTPCookies.as:
import flash.external.ExternalInterface;

public class HTTPCookies
{
    public static function getCookie(key:String):*
    {
        return ExternalInterface.call("getCookie", key);
    }

    public static function setCookie(key:String, val:*):void
    {
        ExternalInterface.call("setCookie", key, val);
    }
}

You need to make sure you enable javascript using the 'allowScriptAccess' parameter in your flash object.
Then you need to create a pair of javascript functions, getCookie and setCookie, as follows (with thanks to quirksmode.org)
HTTPCookies.js:
function getCookie(key)
{
    var cookieValue = null;

    if (key)
    {
        var cookieSearch = key + "=";

        if (document.cookie)
        {
            var cookieArray = document.cookie.split(";");
            for (var i = 0; i < cookieArray.length; i++)
            {
                var cookieString = cookieArray[i];

                // skip past leading spaces
                while (cookieString.charAt(0) == ' ')
                {
                    cookieString = cookieString.substr(1);
                }

                // extract the actual value
                if (cookieString.indexOf(cookieSearch) == 0)
                {
                    cookieValue = cookieString.substr(cookieSearch.length);
                }
            }
        }
    }

    return cookieValue;
}

function setCookie(key, val)
{
    if (key)
    {
        var date = new Date();

        if (val != null)
        {
            // expires in one year
            date.setTime(date.getTime() + (365*24*60*60*1000));
            document.cookie = key + "=" + val + "; expires=" + date.toGMTString();
        }
        else
        {
            // expires yesterday
            date.setTime(date.getTime() - (24*60*60*1000));
            document.cookie = key + "=; expires=" + date.toGMTString();
        }
    }
}

Once you have HTTPCookies.as in your flash project, and HTTPCookies.js loaded from your web page, you should be able to call getCookie and setCookie from within your flash movie to get or set HTTP cookies.
This will only work for very simple values - strings or numbers - but for anything more complicated you really should be using SharedObject.

getCookie method in HTTPCookies.as should use "return" statement.
import flash.external.ExternalInterface;
public class HTTPCookies
{    
  public static function getCookie(key:String):*   
  {
        return ExternalInterface.call("getCookie", key);    
  }
  public static function setCookie(key:String, val:*):void 
  {
        ExternalInterface.call("setCookie", key, val);    
  }
}

