How do I get images located in my recourse folder into an array?
c#
I want to load 52 images (deck of cards) in gif format from my recourse folder into an Image[] in c#. Any ideas?
Thanks,
Jon


You can read a Bitmap from a file like this;
  public static Bitmap GetBitmap( string filename )
  {
     Bitmap retBitmap = null;
     string path = String.Concat( BitmapDir, filename );
     if ( File.Exists( path ) )
     {
        try
        {
           retBitmap = new Bitmap( path, true );
        }
        catch { }
     }
     return retBitmap;
  }

You can get a list of files in a resource directory like this;
string[] files = Directory.GetFiles( BitmapDir, "*.gif" );

Just iterate through files calling GetBitmap( file ) and populate your array. BitmapDir is obviously the directory where your GIF files live.

Assuming that you have the images in a folder on your local file system and that you are running under .NET 3.5:
Image[] cards = Directory.GetFiles(cardsFolder).Select(f => Image.FromFile(f)).ToArray();

One-liners are always nice :-)

If your resources are not being copied to a folder because they are embedded you shoud use Reflection, a start point would be this (the images are stored in the Resource file as a method):
   List<System.Drawing.Image> images = new List<System.Drawing.Image>();
        foreach (System.Reflection.MethodInfo t 
            in typeof(Resources.Resource).GetMethods())
        {
            if (t.ReturnType.ToString() == "System.Drawing.Bitmap")
            {
                images.Add(new System.Drawing.Bitmap((System.Drawing.Image)t.Invoke(null, null)));

            }
        }


Perhaps it is better to verify if the file is an image, because if not, exception is thrown:
 protected void MethodToBeCalled()
    {


        System.Drawing.Image[] cards = Directory.GetFiles(cardsFolder).Where(
              f =>
              {

                  if (IsImage((string)f))
                  {
                      return true ;
                  }
                  else { return false; }
              }
            ).Select(f => System.Drawing.Image.FromFile(f)).ToArray();

    }
        private bool IsImage(string filename)
    {
        string[] knownPicExtensions = {".jpg",".gif",".png",".bmp",".jpeg",".jpe" };

        foreach (string extension in knownPicExtensions)
        {
            if (filename.ToLower().EndsWith(extension))
                return true;
        }

        return false;
    }

