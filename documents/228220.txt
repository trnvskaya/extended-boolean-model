RegEx teaser
php regex
Let's say we have 2 php variables:

$name = 'caption';
$url = 'http://domain.com/photo.jpg';

The input string of '{@url,<img src="," alt="{@name}" />}' should return:
'<img src="http://domain.com/photo.jpg" alt="caption" />'
The {tag} takes up to 3 parameters: {@variable[,text_before][,text_after]}.
What regex would be needed to make this happen? The tricky part is that a {@..} tag is nested within another.


It's for a CMS. Admins can add column fields, then add template code for how it will be displayed on the listing page. The {@tags} are used to output the dynamic column values. This template code:
<p>Link: <a href="{@url}">{@name}</a> - {@date}</p>
would create a listing page like:
Link: link one - 2 July 2008
Link: link two - 14 June 2008
Link: link three - 9 February 2007
...
I figured that people might want to use column values within others, hence the "alt" tag example from the first post. So using regex for this would be a bad idea?

I think you've come across one of those situations where you shouldn't use regex.
much like this one.
http://stackoverflow.com/questions/154708/multi-line-group-and-search-with-regex
http://stackoverflow.com/questions/154708/multi-line-group-and-search-with-regex#162194
