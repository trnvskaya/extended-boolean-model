ASP.NET Web Setup
installation
I have 3 web projects in a Visual studio solution.I want to create a single web setup project which should install all 3 web projects in their virtual directories.So how to create a single web setup project which supports multiple web application installation?


I never found the whole "web setup project" concept to work well. For starters, I've never managed a web server where the only site configuration was the default web site, so the "out of the box" functionality of defining a virtual directory to be created on the default site never worked for me, and it doesn't sound like it would be very useful to you either.
The best option I've found is to create a standard setup project that installs the output + content files of each web site into a \\Website path (or similar) and write a custom installer action with a supporting GUI that allows the installer (user) to select the proper web site and specify the name of the virtual directory to be used.

You can do this by creating a Web Setup Project.  In the File System add as many Web Custom Folders as you need.
Only the main Web Application Folder will have the installation dialog so if you want to customize the virtual directory names then you will need to add a screen and set the Property of the web custom folder to be the same as the field name on the screen you add. 

As John Hunter said, it is possible to add multiple Web Custom Foldsers beside the default Web Appplication Folder. But you need to know some details about how things add up.
One thing to notice is that the Property name you set for the additional folder will be the physical path of the installation. This however is read only in your setup logic, because it is automatically set later as the location of the IIS default path (typically C:\intepub\wwwroot\) added with the value specified in VirtualDirectory on the folder properties. So what you need to set in the custom screen you add, is not the Property name defined on the folder, but the property name that is used for the virtual directory. This is the Property name you specify appended with "VDIR". So if the property name you specify for the web folder is "WEBSITE1", then the property name for the virtual folder will be "WEBSITE1VDIR". In your custom screen, you then need to set up the property name for the text field you use to "WEBSITE1VDIR", The default value in this textbox will be automatically populated with you default VirtualDirectory value specified on the folder.
If you choose to remove the default Installation Address dialog so you specify also the main web site in a custom text box on the same page as the others, you need to know that the property name for the physical path as you see grayed out is fixed to "TARGETDIR" in the Property name for the "Web Application Folder". However, the property for the virtual path is not "TARGETDIRVDIR" as it would be if it followed the same name convention as the other, but it is "TARGETVDIR".
But if you do remove the default Installation Address dialog, you loose the option to select the web site to use (typically "Default Web Site") and Application pool from drop downs that shows you what is available.
