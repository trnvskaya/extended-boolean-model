Unable to commit to Subversion
svn
I have a client who had to rebuild his automated build server. He checked out his project folder from my subversion server but is now no longer able to commit - he gets this error:
Error: Commit failed (details follow):  
Error: Cannot write to the prototype revision file of transaction
'551-1' because a   
Error: previous representation is currently being written by another
process  
Finished!:

I have searched Google but although this error has been often reported there is no clear explanation - does anyone on StackOverflow have a solution?
UPDATE: Nobody else commits to that repository, so it was not a transaction stuck (at least not from another user). In the end we found that permissions were not set correctly. Not that you would know it from this message, but that fixed the problem.


I haven't seen it, but going on the error message I'm guessing something has gotten stuck writing a file. I'd try restarting your svn server process / reboot server.

Your repository has a stuck transaction. You can use the svnadmin command to repair it. Like all the other svn utilities, svnadmin takes a command followed by options (usually just the repository directory). svnadmin has to be run on the server with the repository.
Do something like this:
svnadmin lstxns /path/to/repository

to get a list of transactions in process (you should see your offending 551-1 there). You can then decide how best to recover from this error... svnadmin also has a command rmtxns to delete the offending transaction. For more information, issue:
svnadmin help

or see the tigris website: http://subversion.tigris.org/. You can also get more detailed help on specific commands by following the help command with the name of the command you're interested in. For example:
svnadmin help lstxns

Obviously you will need shell access to the repository server and write permissions on the repository to use svnadmin. If you're repository format is Berkely DB you should suspend your svnserve daemon (if you use it) and any web_dav/web_svn access to ensure you don't corrupt the database while issuing svnadmin commands.

I had a similar problem except the message said "...previous representation is currently being written by THIS process". 
svnadmin lstxns did not show any transactions.
Restarting Apache solved the problem for me.

"Cannot write to the prototype revision file of transaction"
Restarting apache also fixed this problem for me. I'm posting so that something useful might actually make it to the top of google.
Good luck!

Ewan
I ran into the exact same issue with Visual SVN Server installed on Windows 2003, I had altered the default install to place the Repository folder onto a separate partition since the servers C drive is small. I had to change the permission to that folder (in this case D:\Repository), as a quick and dirty hack I simply added the "Everyone" user to this folder and selected "Modify" rights (not the most secure for sure but a dirty working hack none the less). This resolved the issue. 

I account the same wrong message, and when I "Get lock" the commit, success~

I did a one vote up for @DamianM
 answer. In my case it seems that had been the problem. File Corruption which made it not possible to write on server.
http://stackoverflow.com/questions/1910503/issue-with-svn-commit-for-certain-file-extension
But Instead of restarting your svn server process / reboot server I copied the dlls[files with problem] again to working folder and was able to commit.

Had same problem, restarting apache fixed the issue.

You can clear this error w/out a reboot:

Identify (or create) a directory in the root SVN repository that was not a part of the failed commit.
Create a new file in the directory from step 1.
Commit the new file (and directory if created in step 1). Because the file is new, it doesn't conflict w/the previous commit and can update the revision # on the server. 
Commit the original files/directories.
Delete the new file (and directory if created in step 1).
Commit the entire tree.

**Steps 5 & 6 aren't required, but I like to keep my repository tidy... 
I get this error a lot b/c SVN frequently conks out in the middle of committing my large files, which in turn causes subsequent commits to try to write to the revision that was interrupted.

Ran into this same issue after I cancelled a commit in progress.  After doing the svnadm rmtxns with the transaction number to remove, I still got the message.  I am using webdav with apache, so I restarted apache as suggested (/sbin/service httpd restart).  Worked.

For me the problem was solved (as hinted in the update of the question) by changing the permissions of my local folder (not the repository). In Windows Vista you do that by right-clicking on the folder and in properties/security you change permissions. 
The error message is not very good and it wasn't easy to find an answer so I hope my answer helps other people to solve this annoying but on the other hand simple to solve problem. 

i got such a problem recently(eclipse 3.7+svn plugin)  and reboot my computer.it works now!

Mount Point for SubVersion repository was full in our case, adding more space.

Just an ownership issue probably. Try recursively changing the ownership of the directory like this: 
chmod -R 777 /path/to/repo


I had the same error code, but the error turned out to be caused the CNTLM proxy which I had recently installed on my local machine.
To resolve the issue I had to add an additional domain suffix to the proxy bypass exception list, in order to be able to commit to the team svn server hosted onsite.

Error message was least informative. Seems to be caused by various reasons.
For me, it turned out, I had no write access to the current directory on local machine, where Subversion attempted to create a temporary file for commit message, as I tried to make a new directory directly in the repository.
Changing current working directory to my Documents folder solved the problem in an instant.

You have to change the permissions of the repos directory
sudo chown -R www-data:www-data /home/pi/repos/
sudo chown -R www-data:www-data /home/pi/repos/myProject


We have have the same issue come up from time to time.  We have tried to:
Locally:
  Retry
  svn clean
  svn update
  kill all svn processes
Server:
  Check for open threads
  Bounce SVN
Currently the only fix we have is delete all the contents from the file and commit.  After the success, we paste the contents of the file back in and commit again.  If this gets the same error, we slowly fill up the file again a few bytes at a time until we can commit the whole thing.  
Usually this occurs on one file in a commit and we commit each one individually until we figure out what FILE is causing the problem.  Then we proceed with the above mentioned process.
