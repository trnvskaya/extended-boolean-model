Specify the from user when sending email using the mail command
linux email redhat
Does anyone know how to change the from user when sending email using the mail command? I have looked through the man page and can not see how to do this. 
We are running Redhat Linux 5.


mail -r from@from.from -R from@from.com
-r = from-addr
-R = reply-to addr
The author has indicated his version of mail doesn't support this flag. But if you have a version that does this works fine.

Here's a solution.
The second easiest solution after -r (which is to specify a From: header and separate it from the body by a newline like this
 $mail -s "Subject" destination@example.com
 From: Joel <joel@example.com>

 Hi!
 .

works in only a few mail versions, don't know what version redhat carries).
PS: Most versions of mail suck!

http://www.mindspill.org/962 seems to have a solution.
Essentially:
echo "This is the main body of the mail" | mail -s "Subject of the Email" recipent_address@example.com -- -f from_user@example.com

You can append sendmail options to the end of the mail command by first adding --. -f is the command on sendmail to set the from address. So you can do this:
mail recipient@foo.com -- -f sender@bar.com

You can specify any extra header you may need with -a
$mail -s "Some random subject" -a "From: some@mail.tld" to@mail.tld


on CentOs5: -r from@me.omg

None of these worked for me (Ubuntu 12.04) but finally with trial & error I got:
echo 'my message blabla\nSecond line (optional of course)' | 
mail -s "Your message title"
-r 'Your full name<yourSenderAdress@yourDomain.abc>'
-Sreplyto="yourReplyAdressIfDifferent@domain.abc"
destinatorEmail@destDomain.abc[,otherDestinator@otherDomain.abc]

(all in one line, there is no space in "-Sreplyto")
I got this mail command from:
apt-get install mailutils


None of the above worked for me. And it took me long to figure it out, hopefully this helps the next guy.
I'm using Ubuntu 12.04 LTS with mailutils v2.1.
I found this solutions somewhere on the net, don't know where, can't find it again:
-aFrom:Servername-Server@mydomain.com

Full Command used:
cat /root/Reports/ServerName-Report-$DATE.txt | mail -s "Server-Name-Report-$DATE" myemailadress@mydomain.com -aFrom:Servername-Server@mydomain.com


echo "This is the main body of the mail" | mail -s "Subject of the Email" recipent_address@example.com -- -f from_user@example.com -F "Elvis Presley"

or
echo "This is the main body of the mail" | mail -s "Subject of the Email" recipent_address@example.com -aFrom:"Elvis Presley<from_user@example.com>"


When sending over SMTP, the mail man page advises to set the from variable, in this way:
mail -s Subject -S from=sender@example.com recipient@example.com

Otherwise, use the -r option.
Tested on CentOS 6.
You could also attach a file using the below syntax :
mail -s Subject -S from=sender@example.com recipient@example.com  <absolute_path_of_file_to_be_attached>

Most people need to change two values when trying to correctly forge the from address on an email.  First is the from address and the second is the orig-to address.  Many of the solutions offered online only change one of these values.
If as root, I try a simple mail command to send myself an email it might look like this.

echo "test" | mail -s "a test" me@noone.com
And the associated logs:

Feb  6 09:02:51 myserver postfix/qmgr[28875]: B10322269D: from=<root@myserver.com>, size=437, nrcpt=1 (queue active)
Feb  6 09:02:52 myserver postfix/smtp[19848]: B10322269D: to=<me@noone.com>, relay=myMTA[x.x.x.x]:25, delay=0.34, delays=0.1/0/0.11/0.13, dsn=2.0.0, status=sent (250 Ok 0000014b5f678593-a0e399ef-a801-4655-ad6b-19864a220f38-000000)

Trying to change the from address with -- 

echo "test" | mail -s "a test" me@noone.com -- dude@thisguy.com
This changes the orig-to value but not the from value:

Feb  6 09:09:09 myserver postfix/qmgr[28875]: 6BD362269D: from=<root@myserver.com>, size=474, nrcpt=2 (queue active)
Feb  6 09:09:09 myserver postfix/smtp[20505]: 6BD362269D: to=<me@noone>, orig_to=<dude@thisguy.com>, relay=myMTA[x.x.x.x]:25, delay=0.31, delays=0.06/0/0.09/0.15, dsn=2.0.0, status=sent (250 Ok 0000014b5f6d48e2-a98b70be-fb02-44e0-8eb3-e4f5b1820265-000000)

Next trying it with a -r and a -- to adjust the from and orig-to.

echo "test" | mail -s "a test" -r dude@comeguy.com me@noone.com -- dude@someguy.com
And the logs:

Feb  6 09:17:11 myserver postfix/qmgr[28875]: E3B972264C: from=<dude@someguy.com>, size=459, nrcpt=2 (queue active)
Feb  6 09:17:11 myserver postfix/smtp[21559]: E3B972264C: to=<me@noone.com>, orig_to=<dude@someguy.com>, relay=myMTA[x.x.x.x]:25, delay=1.1, delays=0.56/0.24/0.11/0.17, dsn=2.0.0, status=sent (250 Ok 0000014b5f74a2c0-c06709f0-4e8d-4d7e-9abf-dbcea2bee2ea-000000)

This is how it's working for me.  Hope this helps someone.

Thanks to all example providers, some worked for some not.
Below is another simple example format that worked for me.
echo "Sample body" | mail -s "Test email" from=sender-addrs@example.com recepient-addres@example.com


This works on Centos7
echo "This is the main body of the mail" | mail -s "Subject of the Email" -r seneder_address@whatever.com recipent_address@example.com

I faced the same issue. But i solved the problem just be setting geko field in /ect/passwd field. Postfix by default send the mail from user login. Lets suppose you want to change from field to Alert. You just need to edit /ect/passwd file in any editor you like.

vim /ect/passwd

root:x:0:0:Alerts:/root:/bin/bash

Restart postfix.

Now check the result.

echo "This is the main body of the mail" | mail -s "Subject of the Email" user@domain.com

Now in recipient. From will be shown as Alerts as you have specified in geko field.
Hope this solution works for you.
