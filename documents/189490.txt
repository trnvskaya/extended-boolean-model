Where can I find my .emacs file for Emacs running on Windows?
windows emacs winapi path customization
I tried looking for the .emacs file for my Windows install for Emacs but could not find it. Does it have the same filename under Windows as in Unix? Do I have to create it myself? If so, under what specific directory does it go?


Copy'n'paste from the emacs FAQ:
http://www.gnu.org/software/emacs/windows/
Where do I put my init file?
On Windows, the .emacs file may be called _emacs for backward compatibility with DOS and FAT filesystems where filenames could not start with a dot. Some users prefer to continue using such a name, because Explorer cannot create a file with a name starting with a dot, even though the filesystem and most other programs can handle it. In Emacs 22 and later, the init file may also be called .emacs.d/init.el. Many of the other files that are created by lisp packages are now stored in the .emacs.d directory too, so this keeps all your Emacs related files in one place.
All the files mentioned above should go in your HOME directory. The HOME directory is determined by following the steps below:

If the environment variable HOME is set, use the directory it indicates.
If the registry entry HKCU\SOFTWARE\GNU\Emacs\HOME is set, use the directory it indicates.
If the registry entry HKLM\SOFTWARE\GNU\Emacs\HOME is set, use the directory it indicates. Not recommended, as it results in users sharing the same HOME directory.
If C:\.emacs exists, then use C:/. This is for backward compatibility, as previous versions defaulted to C:/ if HOME was not set.
Use the user's AppData directory, usually a directory called Application Data under the user's profile directory, the location of which varies according to Windows version and whether the computer is part of a domain. 

Within Emacs, ~ at the beginning of a file name is expanded to your HOME directory, so you can always find your .emacs file with C-x C-f ~/.emacs.
There's further information at HOME and Startup Directories on MS-Windows.

On my Vista box it's in C:\Users\<USER>\AppData\Roaming\

On XP it's: 
C:\Documents and Settings\yourusernamehere\Application Data\ 

Open the file like this in Emacs for Windows:
C-x C-f ~/.emacs

More information in the Emacs Wiki

It should be stored in the variable user-init-file. Use C-H v user-init-file RET to check. You can also open it directly by using M-x eval-expression RET (find-file user-init-file) RET

I've found that Emacs 22 will occasionally open either "C:\Documents and Settings\username\Application Data\.emacs", or just "C:\Documents and Settings\username\.emacs" on my XP machine.  I haven't found an explanation for why it occasionally changes it's mind.
~ will always point to whatever the current instance of emacs thinks is HOME, but kanja's tip (C-h v user-init-file) will always tell you what ~/.emacs actually maps to.

On versions of emacs on windows above 22, it seems to have moved to
~/.emacs.d/init.el
, ~ being the value of your environment variable HOME (see Control Panel -> System -> Advanced -> Environment variables).
The file itself might not exist, in that case just create it.

on emacs 23 and Windows7 only works if you set:
HKCU\SOFTWARE\GNU\Emacs\HOME

As kanja answered, the path to this file is stored in the user-init-file variable (or if no init file exists, the variable contains the default value for where to create it).
So regardless of which of the possible init file names you are using, and which directory it is in, you should be able to visit your init file with:
M-: (find-file user-init-file) RET
Or display its full path in the echo area with:
M-: (expand-file-name user-init-file) RET

There is a list of directories based on your Windows version and extra information:
http://www.gnu.org/software/emacs/manual/html_node/emacs/Windows-HOME.html

Note that it may NOT be enough to just type ctrl-x ctrl-f ~/.emacs and create the file.
It may be that your emacs app uses a different place to store your init file, and if so, then creating the file ~/.emacs simply creates a useless file which your emacs app ignores.
Also, you may want to do more than just access the .emacs init file but you may want to know where it is, i.e., its pathname.
To get at this there are two methods:
Easy way: type Ctrl-H v user-init-file ret
Slightly trickier way:
You can find out where your system is storing its own .emacs file by:

click options  and scroll down to "Set Default Font..."
Change the font setting and click okay
On the options menu, go down to "Save Options" 
When the options are saved, the system saves its .emacs file,
and you can read the file path in the minibuffer at the bottom of the emacs screen


In Windows 7 put your init.el file in  C:\Users\user-name\AppData\Roaming\.emacs.d\, where user-name is your user/login folder.
Take care so your init.el file won't be named init.el.txt. This is something Windows does if you create your file with some editor like Notepad.

On Windows 8.1, if Emacs is started from Windows Explorer, a shortcut or from cmd console it uses C:\Users\<USER>\AppData\Roaming.emacs init file. When I start Emacs from PowerShell, Emacs looks for its init file in C:\Users\<USER> folder. The fix to this issue was to set the HOME user environment variable (Control Panel\System and Security\System->Advanced system settings->Advanced->Environment variables) to C:\Users\<USER>. After this change, no matter how I start Emacs, it uses the same init file (see the accepted answer of this question)
