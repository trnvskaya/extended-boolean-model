SRV record lookup with PHP
php dns srv
If you type
nslookup -type=SRV _xmpp-server._tcp.gmail.com

(or use the dig command in OSX) you get some SRV records relating to google chat
I would like to replicate this functionality in PHP, does anyone have any good ideas how to do this?
I would like to avoid using exec() as this does not return 100% standard responses across OSX/*NIX/WINDOWS
Thanks!


You could use Pear Net_DNS. I managed to get this to work on Linux, but haven't tested it on Windows or any others:
require_once('Net/DNS.php');
$resolver = new Net_DNS_Resolver();
$response = $resolver->query('_xmpp-server._tcp.gmail.com', 'SRV');
if ($response) {
  foreach ($response->answer as $rr) {
    $rr->display();
  }
}

I modified the example from their documentation. hope this helps

There is dns_get_record(). According to the docs it can take an int $type argument, which refers to a set of constants, one of them being DNS_SRV.
