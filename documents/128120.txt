Assembler file as input for a driver build with the WDK tools
windows assembly build driver wdk
How to get an assembler file to be compiled and linked into a driver build.
To clarify a bit
The SOURCES file :
TARGETTYPE=DRIVER
DRIVERTYPE=WDM
TARGETPATH=obj

TARGETNAME=bla

INCLUDES=$(DDK_INC_PATH)
TARGETLIBS=$(DDK_LIB_PATH)\ks.lib

SOURCES=x.cpp y.cpp z.asm

The problem occurs with the z.asm file. NMAKE complains that it does not know how to build z.obj.
So the question is, how to get the asm file assembled with build and linked into bla.sys.


Have you tried the I386_SOURCES?
E.g
SOURCES=x.cpp y.cpp
I386_SOURCES=i386\z.asm

And putting the file in the i386 directory.
Also see MSDN regarding the SOURCES macro
