Determine if Type is a pointer in a template function
c++ templates
If I have a template function, for example like this:
template<typename T>
void func(const std::vector<T>& v)

Is there any way I can determine within the function whether T is a pointer, or would I have to use another template function for this, ie:
template<typename T>
void func(const std::vector<T*>& v)

Thanks


Indeed, templates can do that, with partial template specialization:
template<typename T>
struct is_pointer { static const bool value = false; };

template<typename T>
struct is_pointer<T*> { static const bool value = true; };

template<typename T>
void func(const std::vector<T>& v) {
    std::cout << "is it a pointer? " << is_pointer<T>::value << std::endl;
}

If in the function you do things only valid to pointers, you better use the method of a separate function though, since the compiler type-checks the function as a whole. 
You should, however, use boost for this, it includes that too: http://www.boost.org/doc/libs/1_37_0/libs/type_traits/doc/html/boost_typetraits/reference/is_pointer.html

C++ 11 has a nice little pointer check built in 
From 
http://en.cppreference.com/w/cpp/types/is_pointer
#include <iostream>
#include <type_traits>

class A {};

int main() 
{
    std::cout << std::boolalpha;
    std::cout << std::is_pointer<A>::value << '\n';
    std::cout << std::is_pointer<A*>::value << '\n';
    std::cout << std::is_pointer<float>::value << '\n';
    std::cout << std::is_pointer<int>::value << '\n';
    std::cout << std::is_pointer<int*>::value << '\n';
    std::cout << std::is_pointer<int**>::value << '\n';
}

