How to add (simple) tracing in C#?
c# trace
I want to introduce some tracing to a C# application I am writing. Sadly, I can never really remember how it works and would like a tutorial with reference qualities to check up on every now and then. It should include:

App.config / Web.config stuff to add for registering TraceListeners
how to set it up in the calling application

Do you know the uber tutorial that we should link to?
EDIT: Glenn Slaven pointed me in the right direction. Add this to your App.config/Web.config inside <configuration/>:
<system.diagnostics>
    <trace autoflush="true">
      <listeners>
        <add type="System.Diagnostics.TextWriterTraceListener" name="TextWriter"
             initializeData="trace.log" />
      </listeners>
    </trace>
</system.diagnostics>

This will add a TextWriterTraceListener that will catch everything you send to with Trace.WriteLine etc.
EDIT: @DanEsparza pointed out that you should use Trace.TraceInformation, Trace.TraceWarning and Trace.TraceError instead of Trace.WriteLine, as they allow you to format messages the same way as string.Format.
Tip: If you don't add any listeners, then you can still see the trace output with the SysInternals program DebugView (Dbgview.exe): http://technet.microsoft.com/en-us/sysinternals/bb896647.aspx


Don't know if this link will help you?
http://www.codeguru.com/csharp/.net/net_debugging/tracing/article.php/c5919/

DotNetCoders has a starter article on it: http://www.dotnetcoders.com/web/Articles/ShowArticle.aspx?article=50, they talk about how to set up the switches in the config file & how to write the code, but it is pretty old (2002).  There's another article on CodeProject: http://www.codeproject.com/KB/trace/debugtreatise.aspx but it's the same age.
CodeGuru has another article on custom TraceListeners: http://www.codeguru.com/columns/vb/article.php/c5611 
I can't think of any more recent articles, hopefully someone else here will have something

I wrote a short article on using the Trace Listener - maybe it will be of some help, especially for beginners - http://www.daveoncsharp.com/2009/09/create-a-logger-using-the-trace-listener-in-csharp/

I followed around 5 different answers as well as all the blog posts above and still had problems.  I was trying to add a listener to some existing code that was tracing using the TraceSource.TraceEvent(TraceEventType,âInt32,âString) method where the TraceSource object was initialised with a string making it a 'named source'.  For me the issue was not creating a valid combination of source and switch elements to target this source.  Here is an example that will log to a file called tracelog.txt.  For the following code:
TraceSource source = new TraceSource("sourceName");
source.TraceEvent(TraceEventType.Verbose, 1, "Trace message");

I successfully managed to log with the following diagnostics config:
  <system.diagnostics>
    <sources>
      <source name="sourceName" switchName="switchName">
        <listeners>
          <add
              name="textWriterTraceListener"
              type="System.Diagnostics.TextWriterTraceListener"
              initializeData="tracelog.txt" />
        </listeners>
      </source>
    </sources>
    <switches>
      <add name="switchName" value="Verbose" />
    </switches>
  </system.diagnostics>

