WCF Unknown Message Received Event
wcf events
Does anywone know when a UnknownMessageReceived event on a WCF ServiceHost will be fired?
I have some code where I capture the Faulted en UnknownMessageReceived event but even when I post a wrong message to a particular service I never get the event.
Jochen


I guess (not sure though) it means that you get (back) a message that is not defined in your contract.

There's a blog entry by Wenlong Dong (yes, I know) that might point you in the right direction.  I believe Wenlong is on the WCF team at MS.

When the service receives a message on a channel, the ChannelDispatcher object at the top of the channel stack queries each of its associated EndpointDispatcher objects to determine which endpoint can process the message. If none of the EndpointDispatcher objects can accept the message, the WCF runtime raises the UnknownMessageReceived event on the ServiceHost object hosting the service. Chapter 3, Making Applications and Services Robust,â describes how to handle this event. Â©(MicrosoftÂ® WindowsÂ®
Communication Foundation Step by Step by John Sharp).
http://download.microsoft.com/download/f/c/7/fc7d048b-b7a5-4add-be2c-baaee38091e3/9780735623361%5FMSWindowsCommFoundationSBS%5Fch13.pdf
I tried to rise this event too - without success. I had a bad message exception in common case (in Client side).

I ran into this event when I, incorrectly specified an address like this:
http://localhost:4000/SomeService//mex
Note the double forward slash
The service was hosted in a WPF application. Because of that I also found out that this event is raised on a different thread than the main/ui thread. 
