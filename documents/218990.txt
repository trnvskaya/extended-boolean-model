Detecting Virus Scanners
java antivirus h2
We've had problems with a virus scanner murdering the performance of our app by slowing down writes to an H2 db. So we'd like to be able to detect the presence of any virus scanner and alert the user of the potential problem. It would be part of a problem detection retue that would alert users to known performance factors specific to their systems.
The current suggestion is a write test that displays the warning if a disk write takes an unreasonable amount of time. That does get to the actual problem, but not to the cause. So, is there any reliable and direct way to detect virus protection, one that doesn't rely on indirect effects? We might end up doing both, but it would be nice to be curtain in our 'suggestions'.


On Windows Vista, MS added some API calls to allow you to query the status of the Windows Security Centre, which should tell you if A/V software is installed. Obviously this is not a particularly generic solution, nor a Java-based one, but it's the only way I can think of, short of attempting to install a virus. Um - don't do that!

Cant you tell the virus scanner to not scan the H2 DB files or at least scan them differently?
It sounds like you are going to a lot of trouble to work around something that may be more directly fixable.  (believe me... Mc Afee used to put my workstation into Lockdown when i started debugging sometimes. I changed to AVG and it doess better.)
