404 Hijacking
error-handling http-headers http-status-code-404 hijacked
Certain malware such as AVG hijack 404 pages in order to display a page in the browser riddled with their own ads.
The only work around I've found is to abandon 404 http status codes for custom error pages in my webapp.
Is there any other work around?
Edit:
Anybody know of any other toolbars/programs that also hijack 404 pages without checking whether they are generic error pages or not?
Is there a way to detect the presence of AVG from the query string or otherwise? (I assume not)
I've created a petition to AVG on this.


When you describe AVG as "malware" are you refering to the antivirus software?
I do not think malware means what you think it means.
Aside from abandoning the 404 code I doubt there is much you can do, as the client is free to do whatever it wan't with your 404.
I had a firefox plugin that checked the internet archive for an archived version of any 404 page I encountered.
If its not 404 then don't tell me it's 404 and I wont treat it like it's a 404...

Itâs not your fault and itâs certainly not your responsibility. Keep the HTTP status codes, they are useful. If some of your users decide to install a browser plugin which handles 404 status codes, don't try to work around it.
There is a Google Webmaster Central Blog post about this topic:

[...] are
  confusing for users, and furthermore
  search engines may spend much of their
  time crawling and indexing
  non-existent, often duplicative URLs
  on your site. This can negatively
  impact your site's crawl
  coverage - because of the time Googlebot
  spends on non-existent pages, your
  unique URLs may not be discovered as
  quickly or visited as frequently.


Yes, the protection racket that is Antivirus software highjacks 404 pages. That's not a reason to abandon the status code, though. Let the user suffer until he learns.
Some software, such as google's chrome only highjack the 404 pages if they are under a certain size, so make sure to create a somewhat meaning- and helpful error page.
